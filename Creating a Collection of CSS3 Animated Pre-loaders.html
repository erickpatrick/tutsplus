<h1>Criando Pré-Carregadores em CSS3</h1>

<p>Pré-carregadores são algo bastante comum no web design moderno. Como usuários, esperamos que a web seja rápida e fluida - não gostamos de esperar pelas coisas. Pré-carregadores oferecem uma resposta visual que indica que algum conteúdo está sendo carregado, adiministrando expectativas, reduz as chances dos usuários abandonarem seu site.</p>

<h2>O Básico do CSS3 para a Criação de Pré-Carregadores</h2>

<p>Antes de começarmos a construir nossa coleção de pré-carregadores, discutiremos algumas das características do CSS3 que são essenciais para a criação desse tipo de pré-carregadores</p>

<h3>Os Pseudo-elementoss <code class="inline">:before</code> <code class="inline">:after</code><br></h3>

<p>Pseudo-elementos são <i>bastante</i> úteis na criação de pré-carregadores com CSS3. Eles criam um elemento falso antes ou depois do elemento HTML em questão.<br></p>

<blockquote>“Pseudo é uma palavra que deriva do termo grego <i>pseudēs</i>, que significa falso.” </i></blockquote>

<p>É o mesmo que criar um elemento que não existe, porém, passível de ser estilizado com CSS. Esses pseudo-elementos não são necessários para a criação de pré-carregadores com CSS3, mas facilitam bastante na hora de minimizar o código HTML. </p>

<p>Pseudo-elementos podem ser estilizados da mesma forma que você faria com qualquer outro elemento HTML, a única diferença é que você precisa especificar a propriedade <code class="inline">content</code> deles. Se não espicificá-la, o elemento não renderizará. A propriedade <code>content</code> pode conter qualquer texto que seja útil para o seu pré-carregador, como "Carregando...", entretanto, se não precisar de qualquer texto extra, você pode atribuir uma cadeia de caracteres vazia, para essa propriedade.</p>

<h3>Animação em CSS3<br></h3>

<p>Os pseudo-elementos do CSS são úteis, porém, não <i>essenciais</i> para a criação de pré-carregadores, contudo, a propriedade <code>animation</code> é. Sem ela, o pré-carregador falhará em ser animado e passaria a ser um simples adorno visual estático - algo não muito útil para indicar que algum conteúdo está em carregamento.<br></p>

<blockquote>“O principal componente de animações em CSS é o @keyframes, a regra do CSS onde a animação é criada. Pense no @keyframes como estágios em uma linha do tempo. Dentro da @keyframes, você pode definir esses estágios, cada um com seus própriso estilos declarados.” - <a href="http://webdesign.tutsplus.com/tutorials/a-beginners-introduction-to-css-animation--cms-21068" target="_self">Uma introdução à Animação em CSS</a></blockquote>

<p><b>Nota</b>: antes de seguirmos para a demonstração, é importante atentar que os prefixos dos motores dos navegadores  não estão inlusos nos trechos de códigos abaixo. Se precisar desses prefixos, por favor, veja os exemplos no codepen.</p>

<h2><span class="sectionnum">1.</span> Onda de Áudio</h2>

<p>A ideia por trás desse pré-carregador é criar uma animação equivalente a uma onda de áudio. <br></p>

<figure>
<iframe src="//tutsplus.github.io/CSS3-Preloaders/codepens/codepen_uhgly/" width="600" height="300" frameborder="0" scrolling="no"></iframe>
</figure>

<h3>HTML</h3>

<p>Ela é obtida através da criação de cinco elementos <code>span</code>s, cada um representando uma barra de áudio.<br></p>

<pre class="brush: html">&lt;div id="preloader_1"&gt;
      		&lt;span&gt;&lt;/span&gt;
  			&lt;span&gt;&lt;/span&gt;
  			&lt;span&gt;&lt;/span&gt;
  			&lt;span&gt;&lt;/span&gt;
  			&lt;span&gt;&lt;/span&gt;
  		&lt;/div&gt;
</pre>

<h3>CSS</h3>

<p>O efeito é obtido através da animação da altura de cada <code>span</code>, de 5px para 30px. A <code>span</code> também se movimenta para baixo no eixo Y em 15px, para dar o efeito de que está crescendo a partir do centro.<br></p>

<pre class="brush: css">#preloader_1{
    position:relative;
}
#preloader_1 span{
	display:block;
	bottom:0px;
	width: 9px;
	height: 5px;
	background:#9b59b6;
	position:absolute;
    animation: preloader_1 1.5s	 infinite ease-in-out;
}

#preloader_1 span:nth-child(2){
left:11px;
animation-delay: .2s;

}
#preloader_1 span:nth-child(3){
left:22px;
animation-delay: .4s;
}
#preloader_1 span:nth-child(4){
left:33px;
animation-delay: .6s;
}
#preloader_1 span:nth-child(5){
left:44px;
animation-delay: .8s;
}
@keyframes preloader_1 {
    0% {height:5px;transform:translateY(0px);background:#9b59b6;}
    25% {height:30px;transform:translateY(15px);background:#3498db;}
    50% {height:5px;transform:translateY(0px);background:#9b59b6;}
    100% {height:5px;transform:translateY(0px);background:#9b59b6;}
}</pre>

<p>Por padrão, a animação em cada <code>span</code> acontece ao mesmo tempo. O efeito da <i>Onda Mexicana</i> é criado a partir da adição de um atraso, com a propriedade <code class="inline">animation-delay</code>, a cada <code>span</code> com um valor de 2 milisegundos. Cada <code>span</code> é selecionada através do uso do seletor <code class="inline">nth-child()</code>. </p>

<h2><span class="sectionnum">2.</span> Quadrado Circular</h2>

<p>Esse pré-carregador usa quatro quadrados que se transformam, giram e mudam de cor até se tornarem círculos.</p>

<figure>
<iframe src="//tutsplus.github.io/CSS3-Preloaders/codepens/preloader/" width="600" height="300" frameborder="0" scrolling="no"></iframe>
</figure>

<h3>HTML</h3>

<p>Ele é criado usando quatro <code>span</code>s; Cada um é um círculo/quadrado e possui sua própria animação.<br></p>

<pre class="brush: html">&lt;div id="preloader_2"&gt;
    		&lt;span&gt;&lt;/span&gt;
			&lt;span&gt;&lt;/span&gt;
			&lt;span&gt;&lt;/span&gt;
			&lt;span&gt;&lt;/span&gt;
		&lt;/div&gt;</pre>

<h3>CSS</h3>

<p>Todos eles vão de quadrados até se transformarem em círculos, ajustando a propriedade <code>border-radius</code> de 0px (quadrado) para 20px (círulo). <br></p>

<pre class="brush: css">#preloader_2{
position: relative;
left: 50%;
width: 40px;
height: 40px;
}
#preloader_2 span{
    display:block;
	bottom:0px;
	width: 20px;
	height: 20px;
	background:#9b59b6;
	position:absolute;
}
#preloader_2 span:nth-child(1){
animation: preloader_2_1 1.5s infinite ease-in-out;
}
#preloader_2 span:nth-child(2){
left:20px;
animation: preloader_2_2 1.5s infinite ease-in-out;

}
#preloader_2 span:nth-child(3){
top:0px;
animation: preloader_2_3 1.5s infinite ease-in-out;
}
#preloader_2 span:nth-child(4){
top:0px;
left:20px;
animation: preloader_2_4 1.5s infinite ease-in-out;
}

@-keyframes preloader_2_1 {
    0% {-transform: translateX(0px) translateY(0px)  rotate(0deg); border-radius:0px;}
    50% {-transform: translateX(-20px) translateY(-10px) rotate(-180deg); border-radius:20px;background:#3498db;}
    80% {-transform: translateX(0px) translateY(0px) rotate(-360deg); border-radius:0px;}
     100% {-transform: translateX(0px) translateY(0px) rotate(-360deg); border-radius:0px;}
}
@-keyframes preloader_2_2 {
    0% {-transform: translateX(0px) translateY(0px)  rotate(0deg);border-radius:0px;}
    50% {-transform: translateX(20px) translateY(-10px) rotate(180deg);border-radius:20px;background:#f1c40f;}
    80% {-transform: translateX(0px) translateY(0px) rotate(360deg);border-radius:0px;}
    100% {-transform: translateX(0px) translateY(0px) rotate(360deg);border-radius:0px;}
}
@-keyframes preloader_2_3 {
    0% {-transform: translateX(0px) translateY(0px)  rotate(0deg);border-radius:0px;}
    50% {-transform: translateX(-20px) translateY(10px) rotate(-180deg); border-radius:20px;background:#2ecc71;}
    80% {-transform: translateX(0px) translateY(0px) rotate(-360deg);border-radius:0px;}
     100% {-transform: translateX(0px) translateY(0px) rotate(-360deg); border-radius:0px;}
}


@-keyframes preloader_2_4 {
    0% {-transform: translateX(0px) translateY(0px)  rotate(0deg); border-radius:0px;}
    50% {-transform: translateX(20px) translateY(10px) rotate(180deg); border-radius:20px;background:#e74c3c;}
    80% {-transform: translateX(0px) translateY(0px) rotate(360deg); border-radius:0px;}
     100% {-transform: translateX(0px) translateY(0px) rotate(360deg);border-radius:0px;}
}
</pre>

<p>Cada um também se movimenta nos eixos X &amp; Y em direções opostas à sua posição atual. A cor de cada <code>span</code> também é animada e vai do púrpura até a cor definida para cada um. Isso dá a impressão de vários círculos fundindo em um único quadrado.</p>

<h2><span class="sectionnum">3.</span> Formas Cruzadas</h2>

<p>O pré-carregador de Formas Cruzadas é uma única <code>div</code> que utiliza os pseudo-elementos <code class="inline">:before </code> e <code class="inline">:after</code> que mencionamos anteriormente. <br></p>

<figure>
<iframe src="//tutsplus.github.io/CSS3-Preloaders/codepens/codepen_CKxdB/" width="600" height="300" frameborder="0" scrolling="no"></iframe>
</figure>

<h3>HTML</h3>

<pre class="brush: html">&lt;div id="preloader_3"&gt;&lt;/div&gt;</pre>

<h3>CSS</h3>

<pre class="brush: css">#preloader_3{
    position:relative;
}
#preloader_3:before{
	width:20px;
	height:20px;
	border-radius:20px;
	background:blue;
	content:'';
	position:absolute;
	background:#9b59b6;
	animation: preloader_3_before 1.5s infinite ease-in-out;
}

#preloader_3:after{
	width:20px;
	height:20px;
	border-radius:20px;
	background:blue;
	content:'';
	position:absolute;
	background:#2ecc71;
	left:22px;
	animation: preloader_3_after 1.5s infinite ease-in-out;
}

@keyframes preloader_3_before {
    0% {transform: translateX(0px) rotate(0deg)}
    50% {transform: translateX(50px) scale(1.2) rotate(260deg); background:#2ecc71;border-radius:0px;}
      100% {transform: translateX(0px) rotate(0deg)}
}
@keyframes preloader_3_after {
    0% {transform: translateX(0px)}
    50% {transform: translateX(-50px) scale(1.2) rotate(-260deg);background:#9b59b6;border-radius:0px;}
  	100% {transform: translateX(0px)}
}</pre>

<p>Uma animação é criada para o pseudo-elemento <code class="inline">#preloader_3:before</code> e outra para o pseudo-elemento <code class="inline">#preloader_3:after</code>. Cada animação muda uma cor diferente em tempos distintos. De forma semelhante ao pré-carregador anterior, cada pseudo-elemento sai de um círculo e vira um quadrado, ao animar a propriedade <code class="inline">border-radius</code>.</p>

<h2><span class="sectionnum">4.</span> A Cobra</h2>

<p>A cobra é criada a partir de um conjunto de <code>span</code>s, onde cada um é estilizado de forma que virem um círculo. <br></p>

<figure>
<iframe src="//tutsplus.github.io/CSS3-Preloaders/codepens/codepen_fsgkC/" width="600" height="300" frameborder="0" scrolling="no"></iframe>
</figure>

<h3>HTML</h3>

<p>Eis o código HTML, mas você poderia, facilmente, criar esse pré-carregador usando, apenas, três círculos, ao usar apenas <code class="inline">#preloader_4</code> com os pseudo-elementos <code class="inline">:before</code> e <code class="inline">:after</code>. <br></p>

<pre class="brush: plain">&lt;div id="preloader_4"&gt;
    		&lt;span&gt;&lt;/span&gt;
			&lt;span&gt;&lt;/span&gt;
			&lt;span&gt;&lt;/span&gt;
			&lt;span&gt;&lt;/span&gt;
			&lt;span&gt;&lt;/span&gt;
		&lt;/div&gt;</pre>

<h3>CSS</h3>

<p>A animação é criada ao mudar a posição Y de cada animação em -10px e mudar a cor do azul para o amarelo. Para criar o efeito de sombra, adicionamos um sombreamento a cada <code>span</code> que modifica sua sombra vertical de 0px para 20px. <br></p>

<pre class="brush: css">#preloader_4{
    position:relative;
}
#preloader_4 span{
	position:absolute;
	width:20px;
	height:20px;
	background:#3498db;
	opacity:0.5;
border-radius:20px;
	-animation: preloader_4 1s infinite ease-in-out;

}
#preloader_4 span:nth-child(2){
	left:20px;
	animation-delay: .2s;
}
#preloader_4 span:nth-child(3){
	left:40px;
	animation-delay: .4s;
}
#preloader_4 span:nth-child(4){
	left:60px;
	animation-delay: .6s;
}
#preloader_4 span:nth-child(5){
	left:80px;
	animation-delay: .8s;
}
@keyframes preloader_4 {
    0% {opacity: 0.3; transform:translateY(0px);    box-shadow: 0px 0px 3px rgba(0, 0, 0, 0.1);}
    50% {opacity: 1; transform: translateY(-10px); background:#f1c40f;	box-shadow: 0px 20px 3px rgba(0, 0, 0, 0.05);}
  	100%  {opacity: 0.3; transform:translateY(0px);	box-shadow: 0px 0px 3px rgba(0, 0, 0, 0.1);}
}</pre>

<p>Semelhante ao pré-carregador 1, ao adicionar <code class="inline">animation-delay</code> a cada <code>span</code> e atrasar cada uma delas em 2 milisegundos, cria-se o efeito de onda.</p>

<h2><span class="sectionnum">5.</span> Disco Giratório</h2>

<p>Esse é um disco.. que gira.</p>

<figure>
<iframe src="//tutsplus.github.io/CSS3-Preloaders/codepens/codepen_piGbc/" width="600" height="300" frameborder="0" scrolling="no"></iframe>
</figure>

<h3>HTML</h3>

<p>Usaremos uma única <code>div</code> para o círculo central e o pseudo-elemento <code class="inline">:after</code> para criar as linhas externas.<br></p>

<pre class="brush: html"> &lt;div id="preloader5"&gt;&lt;/div&gt;</pre>

<h3>CSS</h3>

<p>Adicionando uma borda às partes superior e inferior, e atribuindo uma <code class="inline">border-radius</code> de 50px, criar-se duas linhas esternas. Adicionamos uma animação à <code>div</code> principal só para alterar sua cor, e criamos o efeito de rotação adicionando <code class="inline">transform: rotate()</code>. A animação do pseudo-elemento <code class="inline">:after</code> é adicionada para alterar a cor da borda externa.<br></p>

<pre class="brush: css">#preloader5{
    position:relative;
	width:30px;
	height:30px;
	background:#3498db;
	border-radius:50px;
	animation: preloader_5 1.5s infinite linear;
}
#preloader5:after{
	position:absolute;
	width:50px;
	height:50px;
	border-top:10px solid #9b59b6;
	border-bottom:10px solid #9b59b6;
	border-left:10px solid transparent;
	border-right:10px solid transparent;
	border-radius:50px;
	content:'';
	top:-20px;
	left:-20px;
	animation: preloader_5_after 1.5s infinite linear;
}
@keyframes preloader_5 {
    0% {transform: rotate(0deg);}
    50% {transform: rotate(180deg);background:#2ecc71;}
    100% {transform: rotate(360deg);}
}
@keyframes preloader_5_after {
    0% {border-top:10px solid #9b59b6;border-bottom:10px solid #9b59b6;}
    50% {border-top:10px solid #3498db;border-bottom:10px solid #3498db;}
    100% {border-top:10px solid #9b59b6;border-bottom:10px solid #9b59b6;}
}</pre>

<h2><span class="sectionnum">6.</span> Janela Brilhante</h2>

<p>Nós incorporamos um pouco da Microsoft nessa daqui...</p>

<figure>
<iframe src="//tutsplus.github.io/CSS3-Preloaders/codepens/codepen_Diuzb/" width="600" height="300" frameborder="0" scrolling="no"></iframe>
</figure>

<h3>HTML</h3>

<p>Esse pré-carregador é criado com uma <code>div</code> e quatro <code>span</code>s para cada quadrado.<br></p>

<pre class="brush: html"> &lt;div id="preloader6"&gt;
    		&lt;span&gt;&lt;/span&gt;
			&lt;span&gt;&lt;/span&gt;
			&lt;span&gt;&lt;/span&gt;
			&lt;span&gt;&lt;/span&gt;
		&lt;/div&gt;</pre>

<h3>CSS</h3>

<p>Esse quadrados são posicionados na forma de grade. A animação é adicionada à <code>div</code> principal para rotacionar todo o pré-carregador. Outra animação é adicionada às <code>span</code>s que mudam de tamanho, indo de 100% para 50%. Nós, então, adicionamos <code class="inline">animation-delay</code>  a cada <code>span</code> para criar o efeito de pulsação.<br></p>

<pre class="brush: css">#preloader6{
    position:relative;
	width: 42px;
	height: 42px;
	animation: preloader_6 5s infinite linear;
}
#preloader6 span{
	width:20px;
	height:20px;
	position:absolute;
	background:red;
	display:block;
	animation: preloader_6_span 1s infinite linear;
}
#preloader6 span:nth-child(1){
background:#2ecc71;

}
#preloader6 span:nth-child(2){
left:22px;
background:#9b59b6;
	animation-delay: .2s;

}
#preloader6 span:nth-child(3){
top:22px;
background:#3498db;
	animation-delay: .4s;
}
#preloader6 span:nth-child(4){
top:22px;
left:22px;
background:#f1c40f;
	animation-delay: .6s;
}
@keyframes preloader_6_span {
   0% { transform:scale(1); }
   50% { transform:scale(0.5); }
   100% { transform:scale(1); }
}</pre>



<h2>Conculsão</h2>

<p>A grande vantagem de usar pré-carregadores em CSS3 ao invés de imagens é que eles são escaláveis e já adaptados para telas retina. Isso significa que, não importa em qual aparelho eles estejam, sempre estarão bem vivos, limpos e preparados para o futuro (contudo, tenha em mente que, nem todos os navegadores antigos dão suporte a animações em CSS). </p>

<p>Compreendendo algumas propriedades e técnicas importantes do CSS3, você deve ser capaz de criar seus próprios pré-carregadores. Eles são bacanas de se criar e, experimentando um pouco, você pode criar várias animações bem legais, que podem evitar que seus usuários deixem seu site.</p>

<p>Se você já criou algum pré-carregador legal, gostaria de vê-los! Sinta-se a vontade de deixar o link deles na área dos comentários.</p>

