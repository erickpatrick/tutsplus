<h1>Entendo O Tal do Em</h1>

<p>Farei uma afirmação polêmica: Pixels não tem vez no web design. Só há um motivo de você ainda depender dos pixels - e isso se é porque você ainda não entendeu o <code>em</code>. Vamos mudar isso!</p>

<figure>
<img alt="demystifying-ems-fight" src="http://cdn.tutsplus.com/webdesign/uploads/2013/05/demystifying-ems-fight.png">
<figcaption>M decorativo foi cortesia de Frances Mcleod - vencedor do <a href="http://thetypefight.tumblr.com/post/25095716789/these-fights-are-getting-too-heated-wed-like-to">TypeFight #34</a></figcaption>
</figure>

<h2>Tamanho é Tudo</h2>

<p>Ao construir sites, precisamos dizer ao navegador, o quão "grande" as coisas são: "o cabeçalho será desse tamanho", "esse envólucro terá essa altura", "esse formulário será mais largo que aquilo". É assim que projetamos uma página. Os pixels sempre fizeram sentido como a escolha para unidade de medida: Nós estamos jogando as coisas na tela, então, o que mais poderíamos usar?!</p>

<p>Contudo, os pixels são inerentemente inflexíveis. E, no fim das contas, inflexibilidade não é legal para a web.</p>

<h2>Problemas com Pixels</h2>

<p>Oliver Reichenstein, há um tempo, afirmou: “<a href="http://ia.net/blog/the-web-is-all-about-typography-period/">A Web é 95% Tipografia</a>”, mas levou bons anos para as pessoas entenderem essa ideia. Conteúdo e usuários; eles são nossas prioridades enquanto web designers e o design tipográfico ajuda a adequar-nos a essas prioridades.</p>

<p>Navegadores apresentam o texto em um tamanho padrão. No desktop, geralmente é 16px, em <a href="http://kdpeterson.net/blog/2011/06/font-size-in-mobile-browsers.html">navegadores móveis, varia</a>. Usuário podem mudar esse valor, dependendo de suas preferências.</p>

<figure>
<img width="600" alt="demystifying-ems-browser-settings" src="http://cdn.tutsplus.com/webdesign/uploads/2013/05/demystifying-ems-browser-settings.png" height="500">
</figure>

<p>Geralmente, os web designer usarão CSS para fixar o tamanho da fonte padrão...</p>

<figure>
<img width="600" alt="demystifying-ems-font-size-12px" src="http://cdn.tutsplus.com/webdesign/uploads/2013/05/demystifying-ems-font-size-12px.png" height="400">
</figure>

<p>...prevenindo que o usuário ajuste para o que seria sua melhor experiência de leitura, tornando o conteúdo, por fim, menos acessível.</p>

<p>A primeira lição é: devolver esse poder ao usuário. Não previna que os usuários alterem a fonte padrão, porém, garanta que você esteja preparado para esses ajustes. Defina sua fonte base para 100% do tamanho padrão do navegador:</p>

<figure>
<img width="600" alt="demystifying-ems-font-size-100" src="http://cdn.tutsplus.com/webdesign/uploads/2013/05/demystifying-ems-font-size-100.png" height="400">
</figure>

<p>Assim, podemos continuar a trabalhar daqui.</p>


<h2>Nossa Escala Tipográfica</h2>

<p>Ainda teremos de definir o quão grandes os elementos se apresentarão, especialmente se tivermos usado uma técnica de redefinição de CSS para remover os tamanhos padrões. Um escala modular bem típica seria mais ou menos assim:</p>

<figure>
<img width="600" alt="demystifying-ems-modular-scale" src="http://cdn.tutsplus.com/webdesign/uploads/2013/05/demystifying-ems-modular-scale.png" height="400">
</figure>

<p>Esses tamanhos tem sido usados por séculos, calculados de modo a otimizar as proporções, sem precisar de manufaturar vários blocos usados na impressão. Há várias <a href="http://en.wikipedia.org/wiki/Fibonacci_number">explicações matemáticas</a> que justificam esse tipo de escala, e tenho certeza que você achará essa variação agradável ao seus olhos, também.</p>

<p>Nós passaremos essa escala para nossa tipografia, aplicando um pouco de CSS, dessa forma:</p>

<figure>
<img width="600" alt="demystifying-ems-modular-scale-pixels" src="http://cdn.tutsplus.com/webdesign/uploads/2013/05/demystifying-ems-modular-scale-pixels.png" height="400">
</figure>

<p>Entretanto (como dissemos mais cedo), usar valores fixos para os pixels é inflexível, então, tentemos retificar...</p>


<h2>Eis Que Surge O Em</h2>

<p>O <code>em</code> é uma unidade de medida. Assim como os pixels, <code>em</code>s podem determinar o tamanho de elementos em uma página web. Diferente dos pixels, que são valores absolutos, os <code>em</code>s são relativos ao tamanho da fonte do seu elemento pai. É esse ponto que gera bastante confusão.</p>

<p>1em é igual ao valor herdado do tamanho da fonte. Se o tamanho da fonte em uma <code>&lt;div&gt;</code> for 16px, 1em dentro dessa <code>&lt;div&gt;</code> é equivalente a 16px. Se o tamanho da fonte dessa <code>&lt;div&gt;</code> muda para 20px, 1em dentro dessa <code>&lt;div&gt;</code> será equivalente a 20px.</p>

<p>Os <code>em</code>s conseguiram esse nome do design impresso. Para ser "preciso", a primeira vez que o termo foi usado <a href="http://www.lettermodel.org/wordpress/?p=280" rel="external">é incerto</a>, mas, como a letra maíscula M (pronunciada <em>eme</em>) é a que mais se aproxima da representaçao de um bloco quadrado de impressão, o qual as letras das impressoras são dispostos, acabou emprestando seu nome para essa medida. Independente do tamanho da fonte em questão, a letra M maíscula definiriam o <code>em</code>.</p>

<p>Um <code>em</code>, na verdade, é um pouco maior que a forma da letra, mas você pegou a ideia, não é?.</p>

<figure>
<img width="600" alt="demystifying-ems-1-em" src="http://cdn.tutsplus.com/webdesign/uploads/2013/05/demystifying-ems-1-em.png" height="400">

<figcaption>Uma letra M maísucla na fonte <a href="http://calendasplus.com/">Calendas Plus</a> - o quadrado ao redor tem 1em de largura e 1em de altura</figcaption>
</figure>


<h2>Convertendo A Partir dos Pixels</h2>

<p>Já começamos a definir nossa escala tipográfica em pixels, então, como a convertemos em <code>em</code>s? Um cálculo simples, que expressa o tamanho desejado do tamanho da fonte em relação ao tamanho da fonte de corpo:</p>

<figure>
<img width="600" alt="demystifying-ems-equation" src="http://cdn.tutsplus.com/webdesign/uploads/2013/05/demystifying-ems-equation.png" height="400">
</figure>

<p>Assumindo que o tamanho da fonte de corpo seja 16px, ao tentar converter 36px <code>&lt;h1&gt;</code>, temos:</p>

<figure>
<img width="600" alt="demystifying-ems-equation-result" src="http://cdn.tutsplus.com/webdesign/uploads/2013/05/demystifying-ems-equation-result.png" height="400">
</figure>

<p>É assim que nossa escala ficará convertida, usando o método acima:</p>

<figure>
<img width="600" alt="demystifying-ems-modular-scale-ems" src="http://cdn.tutsplus.com/webdesign/uploads/2013/05/demystifying-ems-modular-scale-ems.png" height="400">
</figure>

<p>Alguns desses valores pode ficar um pouco complexos, mas não tema em ser muito preciso com as casas decimais. Os navegadores tentarão o máximo para renderizar os valores exatos.</p>

<p><strong>Dica:</strong> Geralmente, é útil criar comentários, para lembrar a você mesmo de como calculou cada um dos valores.</p>


<h2>Problemas com o Efeito Cascata</h2>

<p>O maior problema que o pessoa tem com o <code>em</code> vem da complicação que surge do efeito cascata. Um valor <code>em</code> é relativo ao valor do elemento pai mais próximo, que, acidentalmente, acaba bagunçando as coisas se você não prestar atenção. Veja o CSS abaixo, que tenta formatar as âncoras e os parágrafos, igualmente:</p>

<figure>
<img width="600" alt="demystifying-ems-p-a" src="http://cdn.tutsplus.com/webdesign/uploads/2013/05/demystifying-ems-p-a.png" height="400">
</figure>

<p>Agora, veja esse pequeno e inocente trecho de código:</p>

<figure>
<img width="600" alt="demystifying-ems-bieber" src="http://cdn.tutsplus.com/webdesign/uploads/2013/05/demystifying-ems-bieber.png" height="400">
</figure>

<p>Como se espera, tudo aparece muito bem no navegador. Ambos parágrafo e âncora estão com mesmo tamanho, em 1.2em, relativo ao tamanho da fonte do <code>(1.2 * 16px = 19.2px)</code>.</p>

<figure>
<img width="600" alt="demystifying-ems-markup-good" src="http://cdn.tutsplus.com/webdesign/uploads/2013/05/demystifying-ems-markup-good.png" height="400">
</figure>

<p>Porém, se adicionarmos uma segunda âncora, <em>dentro</em> do parágrafo, vejamos o que acontece:</p>

<figure>
<img width="600" alt="demystifying-ems-markup-bad" src="http://cdn.tutsplus.com/webdesign/uploads/2013/05/demystifying-ems-markup-bad.png" height="400">
</figure>

<p>A âncora dentro do parágrafo ainda está em 1.2em, mas, isso porque está em relação ao tamanho da fonte do parágrafo pai, que já é 19.2px - <code>(1.2 * 19.2px = 23.04px)</code>. Isso gerar âncoras maiores em algumas partes de nossa página o que é, altamente, indesejável.</p>

<p><strong>Nota:</strong> Itens de lista ainhados em menus de navegação são um exemplo clássico de efeito cascata saindo do controle - fique atento nisso.</p>

<h3>A Correção</h3>
<p>Não há uma correção para isso. A última coisa que você quer fazer é adicionar uma regra extra para diminuir o tamanho das âncoras de dentro dos parágrafos - é um caminho sem volta. Para manter seu CSS e HTML manuteníveis, é importante "Continuar Simples" (Keep It Simple™).</p>

<ul>
<li>Deixe seu código simples e modular;</li>
<li>Defina seus <code>em</code>s claramente e de forma moderada - não os lance a torto e a direito; </li>
<li>Tente restringir o tamanho das fontes aos elementos tipográficos; tenha cuidado ao aplicar tamanhos de fontes a elementos estruturais;</li>
</ul>

<p>Isso deve ajudar! Usar <code>em</code>s significa que você tem de pensar de verdade, algumas vezes, mas, fazendo isso, forçará você a tomar a decisão correta e deixar o seu código o mais eficiente possível.</p>

<h3>Rems</h3>

<p><a href="http://snook.ca/archives/html_and_css/font-size-with-rem">Os <code>rem</code>s são úteis</a> e se comportam exatamente como os <code>em</code>s, porém, <em>sem o efeito cascata</em>. Cada <code>rem</code> que você define é relativa ao tamanho da fonte do corpo do texto. O suporte é <a href="http://caniuse.com/#feat=rem">relativamente bom</a>, porém, IE8 e anteriores usaram valores em pixel, como alternativa.</p>


<h2>E Que Tal Usar Ems Em Outros Lugares?</h2>

<p>Nós já falamos sobre a propriedade <code>font-size</code> do CSS; um passo considerável para aprender a usar os <code>em</code>s, mas, agora, vamos falar sobre a propriedade <code>line-height</code>. <em>Line-height</em> é aquela propriedade que clama para não usar valores em pixels. A altura da linha (discutida <a href="http://hub.tutsplus.com/categories/development/articles/webdesign-10533-the-anatomy-of-web-typography">em um artigo anterior</a> em mais detalhes) de um elemento tipográfico <em>sempre</em> deve ser relativo ao tamanho da fonte. Se você tem um cabeçalho, cujo tamanho é setado em <code>em</code>s e a <em>line-height</em> está setada em pixels, você pode acabar com uma sobreposição horrível e um péssimo relacionamento em geral.</p>

<p>Não há uma regra fixa para o quão grande a <em>line-height</em> pode ser, mas, 1.5 é um valor razoável a se tentar, fazendo com que a tipografia apresente-se agradavelmente legível.</p>

<figure>
<img width="600" alt="demystifying-ems-line-height" src="http://cdn.tutsplus.com/webdesign/uploads/2013/05/demystifying-ems-line-height.png" height="400">

<figcaption>In this case, 1.5em is <code>1.5 * 18px</code> which is 27px</figcaption>
</figure>

<p><strong>Tip:</strong> Take a look at Bryan Gruhlke's suggestion in the comments for using unit-less values with line-height..</p>

<p><strong>Note:</strong> Things can get complicated if you're trying to set <a href="http://hub.tutsplus.com/categories/development/articles/webdesign-3414-setting-web-type-to-a-baseline-grid">a baseline grid</a> with ems, but that's a topic for another article.</p>


<h3>Structural Elements</h3>

<p>Once you get into the mindset of keeping your layout flexible in terms of the font size, you'll find you rely on pixels less and less for laying out elements on the page.</p>

<p>If we're talking about fluid layouts, you should be using % values to determine the width of any given element. Pixels should be nowhere to be seen when determining horizontal dimensions.</p>

<p>Vertical spacing can be achieved very easily with ems; again, it's a question of being clean with your markup and styling. Consider restricting margins to the <em>bottom</em> of your elements, so as to make managing vertical rhythm easier.</p>

<p>If you need to define a <code>height</code> (which can be tricky in flexible layouts) use ems too. Perhaps you're building a navigation and need to define the height of the menu links - they should grow and shrink with the font size.</p>

<p>Rounded corners on a button? Set the <code>border-radius</code> using ems, so everything scales seamlessly.</p>

<figure>
<img width="600" alt="demystifying-ems-button" src="http://cdn.tutsplus.com/webdesign/uploads/2013/05/demystifying-ems-button.png" height="600">

<figcaption><a href="http://codepen.io/snaptin/pen/CuvFq" rel="external">Take a look at this Codepen</a> for a more visual example of what I'm talking about here</figcaption>
</figure>

<p>Text shadow, box shadow, ditto.</p>

<h3>RWD</h3>

<p>And if you need to change the size of <em>everything</em> under certain circumstances, like smaller viewports? Alter the base font size of the body in the appropriate media query <code>body { font-size: 90%; }</code> and <em>wham!</em> Your whole site scales in the time it takes to hit enter.</p>

<h3>Exceptions</h3>

<p>Like all excellent scientific rules, there has to be an exception to prove it. In this case, I can think of one good scenario where you may need pixels; borders. If you define a border width (or the height of a horizontal rule) in ems, it may find itself being calculated so small that the browser can't render it.</p>

<p>In this case, you simply won't see it.</p>

<figure>
<a href="http://source.tutsplus.com/webdesign/tutorials/029_ems/sliders/index.html" rel="external"><img width="600" alt="demystifying-ems-hr-demo" src="http://cdn.tutsplus.com/webdesign/uploads/2013/05/demystifying-ems-hr-demo.png" height="500">
</a>
<figcaption><a href="http://source.tutsplus.com/webdesign/tutorials/029_ems/sliders/index.html" rel="external">Take a look a this wee demo</a></figcaption>
</figure>

<p>For horizontal rules, you may have styles a bit like this:</p>

<pre class="brush: css">hr {
	height: .02em;
	border: none;
	background: white;
	margin: 2em 0;
	outline: none;
	display: block;
	clear: both;
	width: 100%;
}</pre>

<p>In order to prevent it disappearing when the body size is too small, you could add this:</p>

<pre class="brush: css">	min-height: 1px;</pre>

<p>There. A pixel. Dangit.</p>

<p>Border widths cannot have a minimum value (sadly) so a similar backup in that case isn't possible. Instead, you could use the border width values of <code>thick</code>, <code>medium</code> and <code>thin</code>, although these values don't scale with font-size any better than pixels do.</p>

<h2>Conclusion</h2>

<p>Start using ems today! Your content is typographically grounded, whether you realise it or not. Referring back to pixels, converting figures and thinking in terms of fixed layouts isn't even necessary. Begin thinking in ems and you'll soon forget pixels altogether.</p>

<p>If you can think of a situation where you simply can't use ems, I'd love to hear it in the comments!</p>

<h3>Further Reading</h3>

<ul>
<li><a href="http://pxtoem.com/">pxtoem.com</a> conversion tool</li>
<li><a href="http://filamentgroup.com/lab/how_we_learned_to_leave_body_font_size_alone/">How we learned to leave default font-size alone and embrace the em</a> by Filament Group</li>
<li><a href="http://css-tricks.com/why-ems/">Why Ems?</a> by Chris Coyier</li>
<li><a href="http://en.wikipedia.org/wiki/Em_(typography)">Em (typography)</a> on Wikipedia</li>
<li><a href="http://csswizardry.com/2011/05/font-sizing-with-rem-could-be-avoided/">Font sizing with rem could be avoided</a> by Harry Roberts (an approach which is less popular these days)</li>
<li><a href="http://css-tricks.com/snippets/css/less-mixin-for-rem-font-sizing/">Mixins for Rem Font Sizing</a> by Chris Coyier (if you're confident with SASS)</li>
<li><a href="http://webtypography.net/rhythm_and_proportion/horizontal_motion/2.1.1/">An explanation of ems</a> on "The Elements of Typographic Style Applied to the Web"</li>
</ul>